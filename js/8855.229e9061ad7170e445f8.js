"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[8855],{60446:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(67373);function n(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function r(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var o=new WeakMap;class a extends s.A{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;var s,a,l;super(),n(this,o,void 0),e?(s=o,a=this,l=setTimeout(()=>{this.initialize(t)},i),s.set(r(s,a),l)):this.initialize(t)}initialize(){throw new Error("[DelayedInitController] The initialize method must be implemented")}destroy(){var t,e;super.destroy(),clearTimeout((e=this,(t=o).get(r(t,e))))}}},81259:(t,e,i)=>{i.d(e,{A:()=>n});const s=/{([^}]+)}/g,n=(t,e)=>t.replace(s,(t,i)=>e[i])},38448:(t,e,i)=>{i.d(e,{A:()=>s});const s=(t,e)=>{let{one:i,other:s}=e;return 1===t?i:s}},88235:(t,e,i)=>{i.d(e,{A:()=>n});const s=(t,e)=>{if(t===e)return!0;if(typeof t!=typeof e||"object"!=typeof t||null===t||null===e)return!1;const i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length||i.find(t=>n.indexOf(t)<0))return!1;for(const i in t)if(!s(t[i],e[i]))return!1;return!0},n=s},574:(t,e,i)=>{function s(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function n(t,e){return t.get(o(t,e))}function r(t,e,i){return t.set(o(t,e),i),i}function o(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}i.d(e,{A:()=>T});var a=new WeakMap,l=new WeakMap,c=new WeakMap;class h{constructor(t){s(this,a,void 0),s(this,l,void 0),s(this,c,void 0),r(a,this,t?{...t}:{}),r(l,this,new Map),r(c,this,{})}subscribe(t,e){n(c,this)[t]??=new Set,n(c,this)[t].add(e)}unsubscribe(t,e){var i;null===(i=n(c,this)[t])||void 0===i||i.delete(e)}get(){return n(a,this)}update(t){Object.entries(t).forEach(t=>{let[e,i]=t;const s=n(a,this)[e];var r;Object.is(s,i)||(n(l,this).set(e,s),n(a,this)[e]=i,null===(r=n(c,this)[e])||void 0===r||r.forEach(t=>{t(i,s)}))})}hasKeyBeenUpdated(t){return n(l,this).has(t)}getPrevValueForKey(t){return n(l,this).get(t)}}function u(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function d(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t,e){return t.get(v(t,e))}function f(t,e,i){return t.set(v(t,e),i),i}function v(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var b=new WeakMap,y=new WeakMap,w=new WeakMap,m=new WeakMap;class T{constructor(t,e,i){var s=this;d(this,"_node",void 0),d(this,"_props",void 0),u(this,b,void 0),u(this,y,void 0),u(this,w,void 0),d(this,"_createChild",(t,e)=>{let{selector:i,nullable:s,globalState:n,props:r}=e;const o=this._node.querySelector(i);if(o)return p(m,this).call(this,t,o,r,n);if(!s)throw new Error(`[BaseComponent] Could not find child node with selector: ${i}`);return null}),d(this,"_createChildren",(t,e)=>{let{selector:i,globalState:s,props:n}=e;return Array.from(this._node.querySelectorAll(i)).map((e,i)=>{const r="function"==typeof n?n(e,i):n,o="function"==typeof s?s(e,i):s;return p(m,this).call(this,t,e,r,o)})}),u(this,m,(t,e,i,s)=>{if("function"!=typeof t)throw new Error("[BaseComponent] Provided component must be a valid function");let n;try{n=new t(e,i,s??p(b,this))}catch(t){return console.error(t),null}if(!(n instanceof T))throw new Error(`[BaseComponent] ${t.name} is not a valid component class`);return p(w,this).add(n),n}),d(this,"_getGlobalState",()=>p(b,this).get()),d(this,"_updateGlobalState",t=>{p(b,this).update(t)}),d(this,"_subscribeToGlobalState",function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(p(b,s).subscribe(t,e),p(y,s)[t]??=new Set,p(y,s)[t].add(e),!i.skipAutorun&&p(b,s).hasKeyBeenUpdated(t)){const i=p(b,s).get(),n=p(b,s).getPrevValueForKey(t);e(i[t],n)}}),d(this,"_unsubscribeFromGlobalState",(t,e)=>{var i;p(b,this).unsubscribe(t,e),null===(i=p(y,this)[t])||void 0===i||i.delete(e)}),d(this,"_destroyChild",t=>{p(w,this).has(t)&&(t.destroy(),p(w,this).delete(t))}),this._node=t,this._props=Object.freeze(e??{}),f(b,this,i instanceof h?i:new h(i)),f(y,this,{}),f(w,this,new Set)}destroy(){Object.entries(p(y,this)).forEach(t=>{let[e,i]=t;i.forEach(t=>{p(b,this).unsubscribe(e,t)})}),f(y,this,{}),p(w,this).forEach(t=>{t.destroy()}),f(w,this,new Set)}}},24992:(t,e,i)=>{i.d(e,{A:()=>w});var s=i(574),n=i(20529);function r(t,e,i){o(t,e),e.set(t,i)}function o(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(t,e){return t.get(c(t,e))}function l(t,e,i){return t.set(c(t,e),i),i}function c(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakSet,f=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap;class w extends s.A{constructor(t,e,i){var s,w;super(t,e,i),o(s=this,w=p),w.add(s),r(this,h,void 0),r(this,u,void 0),r(this,d,void 0),r(this,f,t=>{switch(t.detail.status){case"ADDING":a(h,this).style.height=`${a(h,this).clientHeight}px`,a(h,this).style.width=`${a(h,this).clientWidth}px`,this._node.classList.add("cart-adding");break;case"ADDED":this._node.classList.remove("cart-adding"),this._node.classList.add("cart-added");break;default:this._node.classList.remove("cart-adding"),this._node.classList.remove("cart-added"),a(h,this).style.removeProperty("height"),a(h,this).style.removeProperty("width")}}),r(this,v,()=>{const{localizedStrings:t,product:e,isExpressCheckoutEnabled:i,pageType:s,layoutType:r,collection:o,isQuickView:l}=this._props,{quantity:h,selectedVariant:u,unselectedVariantOptions:f,selectedPaymentPlanType:v,selectedSubscriptionOption:b}=this._getGlobalState(),y=u?u.soldOut:e.soldOut;f.length&&(c(p,this,g).call(this,t.productSelectOption),setTimeout(()=>c(p,this,T).call(this,a(d,this)),2e3)),this._node.dispatchEvent(new CustomEvent("product:addToCart",{detail:{pageType:s,layoutType:r,product:e,quantity:h,selectedVariant:u,unselectedVariantOptions:f,isInStock:!y,expressCheckout:i,addToCartText:a(d,this),subscriptionId:v===n.A.SUBSCRIPTION?b.id:null,collection:o,isQuickView:l}}))}),r(this,b,t=>{l(d,this,c(p,this,S).call(this,t)),a(u,this).innerHTML=a(d,this)}),r(this,y,t=>{const{product:e}=this._props;(t?!t.soldOut:!e.soldOut)?c(p,this,T).call(this,a(d,this)):c(p,this,g).call(this,this._props.soldOutText)}),l(h,this,t.querySelector(".sqs-add-to-cart-button-inner")),l(u,this,a(h,this).querySelector(".add-to-cart-text")),l(d,this,c(p,this,S).call(this,this._getGlobalState().selectedPaymentPlanType)),c(p,this,m).call(this)}}function m(){this._node.addEventListener("product:addToCart:status",a(f,this)),this._node.addEventListener("click",a(v,this)),this._subscribeToGlobalState("selectedPaymentPlanType",a(b,this)),this._subscribeToGlobalState("selectedVariant",a(y,this))}function T(t){a(u,this).innerHTML=t,this._node.disabled=!1}function g(t){a(u,this).innerHTML=t,this._node.disabled=!0}function S(t){const{product:e}=this._props;if(e.customAddToCartButtonText)return e.customAddToCartButtonText;switch(t){case n.A.ONE_TIME_PURCHASE:{const{localizedStrings:t,isExpressCheckoutEnabled:i}=this._props,s=4===e.productType;return e.subscriptionPlan?t.productSubscribeText:s||i?t.giftCardPurchaseText:t.productAddToCartText}case n.A.SUBSCRIPTION:return this._props.localizedStrings.productSubscribeText}}},53849:(t,e,i)=>{i.d(e,{A:()=>d});var s=i(574),n=i(20529),r=i(24492),o=i(47556);function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e){return t.get(c(t,e))}function c(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var h=new WeakSet,u=new WeakMap;class d extends s.A{constructor(t,e,i){var s,l;super(t,e,i),a(s=this,l=h),l.add(s),function(t,e,i){a(t,e),e.set(t,i)}(this,u,()=>{const{product:t,locale:e,localizedStrings:i}=this._props,{selectedVariant:s,selectedPaymentPlanType:a,selectedSubscriptionOption:l}=this._getGlobalState(),c={locale:e,localizedStrings:i};if(s?(c.price=s.price,c.salePrice=s.salePrice):(c.price=t.price,c.salePrice=t.salePrice,c.fromPrice=t.fromPrice),t.subscriptionPlan)c.subscriptionPlan=t.subscriptionPlan;else if(a===n.A.SUBSCRIPTION){const{percentageDiscount:t}=l;c.price&&(c.price=(0,o.A)(c.price,t)),c.salePrice&&(c.salePrice=(0,o.A)(c.salePrice,t)),c.fromPrice&&(c.fromPrice=(0,o.A)(c.fromPrice,t))}this._node.innerHTML=(0,r.A)(c)}),c(h,this,p).call(this)}}function p(){this._subscribeToGlobalState("selectedVariant",l(u,this)),this._subscribeToGlobalState("selectedPaymentPlanType",l(u,this)),this._subscribeToGlobalState("selectedSubscriptionOption",l(u,this))}},48564:(t,e,i)=>{i.d(e,{A:()=>u});var s=i(574);function n(t,e,i){r(t,e),e.set(t,i)}function r(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,e){return t.get(a(t,e))}function a(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var l=new WeakMap,c=new WeakSet,h=new WeakMap;class u extends s.A{constructor(t,e,i){var s,u;super(t,e,i),r(s=this,u=c),u.add(s),n(this,l,void 0),n(this,h,t=>{const{product:e}=this._props,i=null!=t&&t.scarce?t.qtyInStock:null!=t&&t.soldOut||!e.scarce?null:e.qtyInStock;null!==i?(this._node.innerHTML=o(l,this).replace("{qtyInStock}",i),this._node.removeAttribute("hidden")):(this._node.setAttribute("hidden","true"),this._node.innerHTML="")});const{localizedStrings:p,scarcityContext:{customLabel:f,labelTemplateKey:v}}=e;var b,y,w;b=l,y=this,w=f??p[v],b.set(a(b,y),w),a(c,this,d).call(this)}}function d(){this._subscribeToGlobalState("selectedVariant",o(h,this))}},13281:(t,e,i)=>{i.d(e,{A:()=>V});var s=i(574);function n(t,e,i){r(t,e),e.set(t,i)}function r(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,e){return t.get(l(t,e))}function a(t,e,i){return t.set(l(t,e),i),i}function l(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var c=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakSet,w=new WeakMap;class m extends s.A{constructor(t,e,i){var s,m;super(t,e,i),r(s=this,m=y),m.add(s),n(this,c,void 0),n(this,h,void 0),n(this,u,void 0),n(this,d,void 0),n(this,p,void 0),n(this,f,void 0),n(this,v,void 0),n(this,b,void 0),n(this,w,t=>{const{displayType:e}=this._props;var i;(a(d,this,t.target.value),this._props.onVariantOptionChange(o(c,this),o(d,this)),"dropdown"===e)&&(o(p,this).setAttribute("data-selected-value",o(d,this)),null===(i=o(v,this))||void 0===i||i.remove(),a(v,this,null),l(y,this,g).call(this))}),a(c,this,t.dataset.variantOptionName),a(h,this,Array.from(t.querySelectorAll("[value]")).filter(t=>t.value.length).reduce((t,e)=>(t[e.value]=e,t),{})),a(u,this,Object.keys(o(h,this))),a(d,this,null),"dropdown"===e.displayType&&(a(p,this,t.querySelector(".variant-select-wrapper")),a(f,this,o(p,this).querySelector("select")),a(v,this,o(p,this).querySelector(".unselected-option-value")),a(b,this,o(p,this).querySelector(".variant-select-icon")),o(f,this).value&&a(d,this,o(f,this).value),l(y,this,g).call(this)),l(y,this,T).call(this)}getOptionName(){return o(c,this)}getOptionValues(){return o(u,this)}getSelectedValue(){return o(d,this)}setValueExistenceAndAvailability(t,e){let{exists:i,soldOut:s}=e;const{displayType:n,showSoldOutText:r,disableSoldOutValues:a}=this._props,c=o(h,this)[t];c.disabled=!i||a&&s,"dropdown"===n?(i?c.removeAttribute("hidden"):c.setAttribute("hidden","true"),r&&l(y,this,S).call(this,c,s)):"button"===n&&l(y,this,_).call(this,c,!i||s)}}function T(){this._node.addEventListener("change",o(w,this))}function g(){if(o(f,this)){var t,e;if(!o(d,this)||""===o(d,this))o(f,this).classList.add("show-placeholder"),null===(t=o(b,this))||void 0===t||t.classList.add("show-icon-placeholder");else o(f,this).classList.remove("show-placeholder"),null===(e=o(b,this))||void 0===e||e.classList.remove("show-icon-placeholder")}}function S(t,e){if(e){if(!t._soldOutTextNode){const e=document.createTextNode(` (${this._props.soldOutText})`);t.appendChild(e),t._soldOutTextNode=e}}else t._soldOutTextNode&&(t._soldOutTextNode.remove(),delete t._soldOutTextNode)}function _(t,e){const i=t.nextElementSibling;e?i.style.setProperty("text-decoration","line-through"):i.style.removeProperty("text-decoration")}var O=i(88235);function P(t,e,i){k(t,e),e.set(t,i)}function k(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(t,e){return t.get(x(t,e))}function A(t,e,i){return t.set(x(t,e),i),i}function x(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var M=new WeakMap,C=new WeakMap,W=new WeakMap,j=new WeakSet;class V extends s.A{constructor(t,e,i){var s,n;super(t,e,i),k(s=this,n=j),n.add(s),P(this,M,void 0),P(this,C,void 0),P(this,W,(t,e)=>{e?E(C,this)[t]=e:delete E(C,this)[t],x(j,this,N).call(this),x(j,this,I).call(this),x(j,this,z).call(this)}),A(M,this,this._createChildren(m,{selector:".variant-option",props:{displayType:e.displayType,soldOutText:e.soldOutText,showSoldOutText:e.showSoldOutText,disableSoldOutValues:e.disableSoldOutValues,onVariantOptionChange:E(W,this)}})),A(C,this,E(M,this).reduce((t,e)=>{const i=e.getSelectedValue();return i&&(t[e.getOptionName()]=i),t},{})),Object.keys(E(C,this)).length&&(x(j,this,N).call(this),x(j,this,I).call(this)),x(j,this,z).call(this)}}function N(){const t=x(j,this,B).call(this,E(C,this));this._updateGlobalState({selectedVariant:t})}function I(){const{userDefinedVariantOptions:t}=this._props.product,e=t.filter(t=>{let{optionName:e}=t;return!E(C,this)[e]}).map(t=>{let{optionName:e}=t;return e});this._updateGlobalState({unselectedVariantOptions:e})}function z(){const{product:t}=this._props;if(t.soldOut)return void x(j,this,L).call(this,E(M,this),()=>({exists:!0,soldOut:!0}));const e=Object.keys(E(C,this)).length,i=e>=E(M,this).length-1;if(x(j,this,L).call(this,E(M,this),()=>({exists:!0,soldOut:!1})),i){const t=e===E(M,this).length?E(M,this):E(M,this).filter(t=>!t.getSelectedValue());x(j,this,L).call(this,t,(t,e)=>{const i=x(j,this,q).call(this,t,e);return{exists:Boolean(i),soldOut:Boolean(null==i?void 0:i.soldOut)}})}}function L(t,e){t.forEach(t=>{const i=t.getOptionName();t.getOptionValues().forEach(s=>{t.setValueExistenceAndAvailability(s,e(i,s))})})}function q(t,e){return x(j,this,B).call(this,{...E(C,this),[t]:e})}function B(t){return this._props.product.variants.find(e=>{let{attributes:i}=e;return(0,O.A)(i,t)})??null}},20529:(t,e,i)=>{i.d(e,{A:()=>s});const s=Object.freeze({ONE_TIME_PURCHASE:"ONE_TIME_PURCHASE",SUBSCRIPTION:"SUBSCRIPTION"})},5444:(t,e,i)=>{i.d(e,{A:()=>n});var s=i(20529);const n=t=>{let{userDefinedVariantOptions:e=[],variants:i,productSubscriptionOptions:n=[],subscriptionPlan:r}=t;return{quantity:1,selectedSubscriptionOption:n[0]??null,selectedPaymentPlanType:r?s.A.SUBSCRIPTION:s.A.ONE_TIME_PURCHASE,selectedVariant:e.length?null:i[0],unselectedVariantOptions:e.map(t=>{let{optionName:e}=t;return e})}}},24492:(t,e,i)=>{i.d(e,{A:()=>l});var s=i(81259);const n=Object.freeze({WEEK:"Weekly",MONTH:"Monthly"}),r=Object.freeze({WEEK:"Weeks",MONTH:"Months",YEAR:"Years"}),o=(t,e)=>{let{currency:i,value:s}=t;return new Intl.NumberFormat(e,{style:"currency",currency:i}).format((t=>Math.round(100*t)/100)(parseFloat(s)))},a=(t,e,i,o)=>{const{billingPeriod:a,duration:l,numBillingCycles:c}=t,h=c>0,u=(t,e)=>{let{value:i,unit:s}=t;return`${i>1?"n":"1"}${e[s]}`},d=["productPrice",o?"multiplePrices":"singlePrice",u(a,n),...h?["limited",u(l,r)]:["indefinite"]].join("__");return(0,s.A)(e[d],{price:i,duration:l.value,billingPeriodValue:a.value})},l=t=>{let{price:e,salePrice:i,fromPrice:s,subscriptionPlan:n,locale:r,localizedStrings:l}=t;if(s){const t=o(s,r);return n?a(n,l,t,!0):l.productPriceFromText.replace("{fromPrice}",t)}const c=o(e,r);if(i){const t=o(i,r),[e,s]=n?[a(n,l,t),a(n,l,c)]:[t,c];return`\n      <span class="visually-hidden">${l.salePriceText}</span>\n      <span class="sale-price">${e}</span>\n      <span class="visually-hidden">${l.originalPriceText}</span>\n      <span class="original-price">${s}</span>\n    `}return n?a(n,l,c):c}},47556:(t,e,i)=>{i.d(e,{A:()=>s});const s=(t,e)=>({...t,value:(1-e)*t.value})}}]);