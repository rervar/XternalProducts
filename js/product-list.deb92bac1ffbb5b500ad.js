"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[1121],{92196:(t,e)=>{e.A=void 0;var i=[],s=0,n=!1,o=!1,r=!1,a=function(){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t={passive:!0}}}))}catch(t){}return t}(),l={scroll:function(t){o||(o=!0,requestAnimationFrame(this.executeCallbacks))},executeCallbacks:function(){for(var t=0;t<s;t+=1)i[t]();o=!1},registerCallback:function(t){var e=i.indexOf(t);!t||e>-1||(i.push(t),s+=1)},removeCallback:function(t){if(t){var e=i.indexOf(t);-1!==e&&(i.splice(e,1),s-=1)}},bindMethods:function(){n||(this.scroll=this.scroll.bind(this),n=!0)},trigger:function(){this.scroll()},on:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;r||(r=!0,this.bindMethods(),this.windowRef=e,e.addEventListener("scroll",this.scroll,a)),this.registerCallback(t)},off:function(t){this.removeCallback(t),r&&0===s&&(this.bindMethods(),r=!1,this.windowRef.removeEventListener("scroll",this.scroll),this.windowRef=null)}};e.A=l},19123:(t,e,i)=>{i.d(e,{F:()=>s});const s=t=>new Promise(e=>{t.complete?setTimeout(e):t.addEventListener("load",e,{once:!0})})},56181:(t,e,i)=>{i.r(e),i.d(e,{ProductList:()=>le,default:()=>ce});var s=i(60446),n=i(68651),o=i(92196),r=i(574),a=i(75396);function l(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function h(t,e){return t.get(d(t,e))}function d(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var u=new WeakMap,p=new WeakMap,v=new WeakMap;class f extends r.A{constructor(t,e,i){var s,n,o;super(t,e,i),c(this,u,void 0),c(this,p,()=>{window.addEventListener("resize",this._onResizeDebounced)}),l(this,"_checkIfLineClamped",()=>{if(!this._node)return;const t=this._node.querySelector(h(u,this));if(!t||!t.textContent.trim())return;t.classList.add("added-margin-top");var e;if(h(v,this).call(this,t)){if(!this._node.querySelector(".learn-more-block")){const t=document.createElement("p");t.className="learn-more-block",t.textContent=this._props.learnMoreText??this._props.localizedStrings.learnMore,this._node.appendChild(t)}}else null===(e=this._node.querySelector(".learn-more-block"))||void 0===e||e.remove()}),c(this,v,t=>t.scrollHeight>t.clientHeight+1),s=u,n=this,o=e.clampedTextSelector||".product-list-description-rich-text",s.set(d(s,n),o),this._onResizeDebounced=(0,a.A)(this._checkIfLineClamped,175),this._checkIfLineClamped(),h(p,this).call(this)}destroy(){var t;null===(t=this._onResizeDebounced)||void 0===t||t.cancel(),window.removeEventListener("resize",this._onResizeDebounced),super.destroy()}}var w=i(24992),y=i(53849),m=i(48564),g=i(13281),b=i(19123);const k=Object.freeze({CATEGORY:"CATEGORY",TAG:"TAG"});function S(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function _(t,e){return t.get(E(t,e))}function M(t,e,i){return t.set(E(t,e),i),i}function E(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var W=new WeakMap,A=new WeakMap,C=new WeakMap,T=new WeakMap,x=new WeakMap,L=new WeakMap,O=new WeakMap,z=new WeakMap,P=new WeakMap,q=new WeakMap,I=new WeakMap,F=new WeakMap,j=new WeakMap,R=new WeakMap,$=new WeakMap;class D extends r.A{constructor(t,e,i){super(t,e,i),S(this,W,void 0),S(this,A,void 0),S(this,C,void 0),S(this,T,void 0),S(this,x,void 0),S(this,L,void 0),S(this,O,void 0),S(this,z,void 0),S(this,P,()=>{_(R,this).call(this),this._subscribeToGlobalState("selectedVariant",_($,this))}),S(this,q,t=>{const{desktopParentWidthInUnits:e,mobileParentWidthInUnits:i}=this._props.parentWidths,s=parseInt(t.getAttribute("width"),10)/parseInt(t.getAttribute("height"),10),n=t.parentElement.clientWidth/t.parentElement.clientHeight;let o,r;return s>n?(o=`${i} / ${n} * ${s}`,r=`${e} / ${n} * ${s}`):(o=i,r=e),`(max-width: 767px) calc(${o}), calc(${r})`}),S(this,I,()=>{for(const t of _(W,this))t.sizes=_(q,this).call(this,t)}),S(this,F,()=>{this._node.classList.add("is-loaded")}),S(this,j,t=>{const e=()=>{t.style.display="block",(0,b.F)(t).then(()=>{t.classList.add("loaded")})};this._node.matches(":hover")?e():this._node.addEventListener("mousemove",e,{once:!0})}),S(this,R,()=>{if(0===_(W,this).length)return void _(F,this).call(this);const t=_(W,this)[0];(0,b.F)(t).then(_(F,this)),_(I,this).call(this),t.style.display="block";const e=this._node.querySelector(".grid-image-hover");null!==e&&_(j,this).call(this,e)}),S(this,$,t=>{var e;const i=null==t||null===(e=t.mainImage)||void 0===e?void 0:e.assetUrl;if(!i)return void _(W,this).forEach(t=>{t.classList.remove("grid-image-not-selected","grid-image-selected"),t.removeAttribute("aria-hidden")});const s=_(W,this).find(t=>t.dataset.src===i);if(M(O,this,s),!s)return void _(W,this).forEach(t=>{t.classList.remove("grid-image-selected","grid-image-not-selected"),t.removeAttribute("aria-hidden")});_(W,this).filter(t=>t.src!==i).forEach(t=>{t.classList.remove("grid-image-selected"),t.classList.add("grid-image-not-selected"),t.setAttribute("aria-hidden",!0)}),s.style.display="block",(0,b.F)(s).then(()=>{_(O,this)===s&&s.classList.add("grid-image-selected")}),s.classList.remove("grid-image-not-selected"),s.removeAttribute("aria-hidden")});const{localizedStrings:s,product:n,isExpressCheckoutEnabled:o,pageType:r,layoutType:a,soldOutText:l,showSoldOutOnVariantsDropdown:c,locale:h,scarcityContext:d,collection:u,learnMoreText:p}=e;M(O,this,null),M(W,this,Array.from(this._node.querySelectorAll("img"))),M(z,this,new Set(n.tags)),M(A,this,this._createChild(f,{selector:".product-list-description",nullable:!0,props:{localizedStrings:s,clampedTextSelector:".product-list-description-rich-text",learnMoreText:p}})),M(C,this,this._createChild(y.A,{selector:".product-list-item-price",nullable:!0,props:{localizedStrings:s,product:n,locale:h}})),M(T,this,this._createChild(m.A,{selector:".product-scarcity",nullable:!0,props:{localizedStrings:s,scarcityContext:d,product:n}})),M(x,this,this._createChild(g.A,{selector:".product-variants",nullable:!0,props:{localizedStrings:s,product:n,displayType:"dropdown",soldOutText:l,showSoldOutText:c,disableSoldOutValues:!1}})),M(L,this,this._createChild(w.A,{selector:".sqs-add-to-cart-button",nullable:!0,props:{localizedStrings:s,product:n,isExpressCheckoutEnabled:o,pageType:r,layoutType:a,soldOutText:l,collection:u}})),_(P,this).call(this)}applyFilters(t){const e=t.every(t=>{let{type:e,value:i}=t;return e!==k.TAG||_(z,this).has(i)});return this._node.classList.toggle("hidden",!e),e}}function G(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function N(t,e){return t.get(U(t,e))}function V(t,e,i){return t.set(U(t,e),i),i}function U(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var J=new WeakMap,B=new WeakMap,H=new WeakMap,Y=new WeakMap,Q=new WeakMap;class K extends r.A{constructor(t,e,i){super(t,e,i),G(this,J,void 0),G(this,B,void 0),G(this,H,()=>{const t=t=>{if(N(Y,this).call(this))return;const e=t.currentTarget.value;if(e&&e!==window.location.pathname){const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}};N(J,this).set(this._node,t),this._node.addEventListener("change",t),N(Q,this).call(this,this._node);const e=t=>{t.persisted&&N(Q,this).call(this,this._node)};N(J,this).set("pageshow",e),window.addEventListener("pageshow",e)}),G(this,Y,()=>null!==document.querySelector(".sqs-site-styles-active")),G(this,Q,()=>{N(Y,this).call(this)}),V(B,this,e.currentCategory||null),V(J,this,new Map),N(H,this).call(this)}destroy(){N(J,this).forEach((t,e)=>{"pageshow"===e?window.removeEventListener("pageshow",t):e.removeEventListener("change",t)}),N(J,this).clear(),super.destroy()}}var X=i(5444),Z=i(38448),tt=i(81259);const et=t=>{let e=null;try{e=window[t];const i="__storage_test__";return e.setItem(i,i),e.removeItem(i),!0}catch(t){return t instanceof DOMException&&"QuotaExceededError"===t.name&&e&&0!==e.length}},it=(t,e,i)=>{et(t)&&window[t].setItem(e,i)},st=(t,e)=>et(t)?window[t].getItem(e):null;function nt(t,e,i){ot(t,e),e.set(t,i)}function ot(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rt(t,e){return t.get(lt(t,e))}function at(t,e,i){return t.set(lt(t,e),i),i}function lt(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}const ct=t=>`PRODUCT_LIST_APPLIED_FILTERS_${t}`,ht=t=>{const e=(i=ct(t),st("sessionStorage",i));var i;return JSON.parse(e??"[]")};var dt=new WeakMap,ut=new WeakMap,pt=new WeakMap,vt=new WeakMap,ft=new WeakMap,wt=new WeakSet,yt=new WeakMap,mt=new WeakMap,gt=new WeakMap;class bt extends r.A{constructor(t,e,i){var s,n;super(t,e,i),ot(s=this,n=wt),n.add(s),nt(this,dt,void 0),nt(this,ut,void 0),nt(this,pt,void 0),nt(this,vt,void 0),nt(this,ft,void 0),nt(this,yt,t=>{const e=t.currentTarget;e.classList.toggle("show-placeholder",!lt(wt,this,St).call(this,e))}),nt(this,mt,()=>{if(lt(wt,this,Mt).call(this))return;const t=Object.entries(rt(ut,this)).reduce((t,e)=>{let[i,s]=e;const{filterType:n}=s.dataset;return n!==k.CATEGORY&&lt(wt,this,St).call(this,s)&&t.push({id:i,type:n,value:s.value}),t},[]);lt(wt,this,Et).call(this,t)}),nt(this,gt,()=>{const{appliedFilters:t}=this._getGlobalState();t.forEach(t=>{let{id:e,value:i}=t;const s=rt(ut,this)[e];s&&lt(wt,this,At).call(this,s,i)&&(s.value=i,s.dispatchEvent(new Event("change",{bubbles:!0})))})}),at(dt,this,ct(e.collectionId)),at(ut,this,Array.from(t.querySelectorAll(".product-filter-dropdown-select")).reduce((t,e)=>(t[e.dataset.filterId]=e,t),{})),at(pt,this,rt(ut,this)["category-filter"]),at(vt,this,t.querySelector(".product-list-filter-button-container")),at(ft,this,rt(vt,this).querySelector(".product-list-filter-button")),et("sessionStorage")||(rt(vt,this).setAttribute("title",e.localizedStrings.enableWebStorage),rt(ft,this).setAttribute("disabled","true")),lt(wt,this,kt).call(this),rt(gt,this).call(this)}clearFilters(){var t;lt(wt,this,Mt).call(this)||((null===(t=rt(pt,this))||void 0===t?void 0:t.options.length)>0&&(rt(pt,this).value=rt(pt,this).options[0].value),lt(wt,this,Et).call(this,[]))}getAppliedFilterCount(t){let e=t.length;return lt(wt,this,_t).call(this)&&lt(wt,this,St).call(this,rt(pt,this))&&(e+=1),e}}function kt(){Object.values(rt(ut,this)).forEach(t=>{t.addEventListener("change",rt(yt,this))}),rt(ft,this).addEventListener("click",rt(mt,this)),this._subscribeToGlobalState("appliedFilters",rt(gt,this))}function St(t){return t&&t.value!==t.options[0].value}function _t(){var t;return Boolean(null===(t=rt(pt,this))||void 0===t?void 0:t.clientWidth)}function Mt(){const t=this._node.ownerDocument;return t.body.classList.contains("sqs-site-styles-active")||t.body.classList.contains("sqs-is-page-editing")}function Et(t){var e,i;e=rt(dt,this),i=JSON.stringify(t),it("sessionStorage",e,i),this._props.onFilter(t),lt(wt,this,_t).call(this)?lt(wt,this,Wt).call(this,rt(pt,this).value):window.location.reload()}function Wt(t){const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click()}function At(t,e){return Array.from(t.options).some(t=>t.value===e)}function Ct(t,e,i){Tt(t,e),e.set(t,i)}function Tt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xt(t,e,i){return t.set(Ot(t,e),i),i}function Lt(t,e){return t.get(Ot(t,e))}function Ot(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}const zt="data-is-shown",Pt="data-is-transitioning";var qt=new WeakMap,It=new WeakMap,Ft=new WeakMap,jt=new WeakMap,Rt=new WeakMap,$t=new WeakMap,Dt=new WeakMap,Gt=new WeakMap,Nt=new WeakMap,Vt=new WeakMap,Ut=new WeakMap,Jt=new WeakMap,Bt=new WeakSet,Ht=new WeakMap,Yt=new WeakMap,Qt=new WeakMap,Kt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,te=new WeakMap,ee=new WeakMap,ie=new WeakMap,se=new WeakMap;class ne extends r.A{constructor(t,e,i){var s,n;super(t,e,i),Tt(s=this,n=Bt),n.add(s),Ct(this,qt,void 0),Ct(this,It,void 0),Ct(this,Ft,void 0),Ct(this,jt,void 0),Ct(this,Rt,void 0),Ct(this,$t,void 0),Ct(this,Dt,void 0),Ct(this,Gt,void 0),Ct(this,Nt,void 0),Ct(this,Vt,void 0),Ct(this,Ut,0),Ct(this,Jt,void 0),Ct(this,Ht,()=>{const{localizedStrings:t}=this._props,{appliedFilters:e}=this._getGlobalState(),i=Lt(qt,this).reduce((t,i)=>i.applyFilters(e)?t+1:t,0);0===i?this._node.setAttribute("data-no-results","true"):this._node.removeAttribute("data-no-results");const s=(0,Z.A)(i,t.productResultCount);Lt(Rt,this).innerText=(0,tt.A)(s,{numberOfResults:i}),Ot(Bt,this,re).call(this,e)}),Ct(this,Yt,()=>{Lt(It,this).clearFilters()}),Ct(this,Qt,()=>{const{appliedFilters:t}=this._getGlobalState();Lt(Kt,this).call(this),Ot(Bt,this,re).call(this,t)}),Ct(this,Kt,()=>{const{height:t,y:e}=Lt(jt,this).getBoundingClientRect(),i=t-Math.min(Math.abs(e),t);this._node.style.setProperty("--filter-drawer-height-offset",`${i}px`)}),Ct(this,Xt,t=>{t.stopPropagation(),Lt($t,this).hasAttribute(zt)?Lt(Zt,this).call(this):(this._node.ownerDocument.body.style.overflow="hidden",this._node.ownerDocument.body.addEventListener("click",Lt(te,this)),Lt(Dt,this).classList.remove("hidden"),Lt($t,this).setAttribute(Pt,"true"),Lt($t,this).setAttribute(zt,"true"),Lt(Nt,this).focus())}),Ct(this,Zt,t=>{null==t||t.stopPropagation(),Lt($t,this).hasAttribute(zt)&&(this._node.ownerDocument.body.style.overflow=null,this._node.ownerDocument.body.removeEventListener("click",Lt(te,this)),Lt(Dt,this).classList.add("hidden"),Lt($t,this).setAttribute(Pt,"true"),Lt($t,this).removeAttribute(zt),Lt(Gt,this).focus())}),Ct(this,te,t=>{t.target.closest(".product-list-filters")||Lt(Zt,this).call(this)}),Ct(this,ee,()=>{Lt($t,this).removeAttribute(Pt)}),Ct(this,ie,(t,e,i,s)=>{let n=`(${t}`;return"0"!==i&&(n+=` - 2 * ${i}`),"0"!==s&&e>1&&(n+=` - ${e-1} * ${s}`),n+=`) / ${e}`,n}),Ct(this,se,()=>{const t=this._props.layoutStyles.numColumnsDesktop||2,e=this._props.layoutStyles.numColumnsMobile||1,i=this._props.layoutStyles.columnSpacing||{value:2,unit:"vw"},s=`${i.value}${i.unit}`,n=this._props.layoutStyles.widthOption,o=getComputedStyle(this._node).getPropertyValue("--sqs-site-max-width"),r=getComputedStyle(this._node).getPropertyValue("--sqs-site-gutter");return{desktopParentWidthInUnits:Lt(ie,this).call(this,"inset"===n?o:"100vw",t,r,s),mobileParentWidthInUnits:Lt(ie,this).call(this,"88vw",e,"0","30px")}});const{items:o,localizedStrings:r,collectionId:a,collectionTitle:l,nestedCategoryContext:c,storeMerchandisingContext:{locale:h,expressCheckout:d,customSoldOutText:u,showSoldOutOnVariantsDropdown:p,scarcityContext:v},flaggingContext:f}=e,w=u??r.productSoldOutTextCaptialized,y=Lt(se,this).call(this);xt(qt,this,this._createChildren(D,{selector:".product-list-item",globalState:(t,e)=>(0,X.A)(o[e]),props:(t,e)=>{var i;return{product:o[e],localizedStrings:r,isExpressCheckoutEnabled:d,pageType:"plp",layoutType:this._props.layoutType,soldOutText:w,showSoldOutOnVariantsDropdown:p,locale:h,scarcityContext:v,parentWidths:y,learnMoreText:null===(i=this._props.layoutStyles)||void 0===i?void 0:i.learnMoreText,collection:{id:a,title:l}}}})),null!=f&&f.isPLPFacetedSearchEnabled?(xt(jt,this,t.ownerDocument.getElementById("header")),xt(Rt,this,t.querySelector(".product-list-result-count")),xt($t,this,t.querySelector(".product-list-filters")),xt(Dt,this,t.querySelector(".product-list-filters-drawer-overlay")),xt(Gt,this,t.querySelector(".product-list-filters-drawer-open-button")),xt(Nt,this,t.querySelector(".product-list-filters-drawer-close-button")),xt(Vt,this,t.querySelector(".product-list-applied-filter-count")),xt(Jt,this,Array.from(t.querySelectorAll(".product-list-clear-filters-button"))),xt(It,this,this._createChild(bt,{selector:".product-list-filters",props:{collectionId:a,localizedStrings:r,onFilter:()=>Lt(Zt,this).call(this)}})),Lt(Ht,this).call(this),Lt(Kt,this).call(this)):xt(Ft,this,this._createChild(K,{selector:"#product-categories-filter-dropdown-select",nullable:!0,props:{currentCategory:(null==c?void 0:c.current)||null}})),Ot(Bt,this,oe).call(this)}destroy(){super.destroy(),Lt(jt,this).removeEventListener("transitionend",Lt(Kt,this)),n.A.off(Lt(Qt,this)),o.A.off(Lt(Kt,this))}}function oe(){const{flaggingContext:t}=this._props;null!=t&&t.isPLPFacetedSearchEnabled&&(this._subscribeToGlobalState("appliedFilters",Lt(Ht,this)),Lt(Gt,this).addEventListener("click",Lt(Xt,this)),Lt(Nt,this).addEventListener("click",Lt(Zt,this)),Lt(Jt,this).forEach(t=>{t.addEventListener("click",Lt(Yt,this))}),Lt($t,this).addEventListener("transitionend",Lt(ee,this)),Lt(jt,this).addEventListener("transitionend",Lt(Kt,this)),n.A.on(Lt(Qt,this)),o.A.on(Lt(Kt,this)))}function re(t){const e=Lt(It,this).getAppliedFilterCount(t);e!==Lt(Ut,this)&&(xt(Ut,this,e),Lt(Vt,this).innerText=`(${e})`,Lt(Jt,this).forEach(t=>{t.classList.toggle("hidden",0===e)}))}function ae(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class le extends s.A{constructor(t,e){super(t,e),ae(this,"_productListRoot",void 0)}initialize(t){const{context:e,localizedStrings:i,layoutType:s,layoutStyles:n}=t.dataset;t.removeAttribute("data-context"),t.removeAttribute("data-localized-strings"),t.removeAttribute("data-layout-type"),t.removeAttribute("data-layout-styles");const o={...JSON.parse(e),localizedStrings:JSON.parse(i),layoutType:s,layoutStyles:n?JSON.parse(n):{}},r={appliedFilters:ht(o.collectionId)};this._productListRoot=new ne(t,o,r)}destroy(){var t;super.destroy(),null===(t=this._productListRoot)||void 0===t||t.destroy()}}const ce=(t,e)=>new le(t,e)}}]);